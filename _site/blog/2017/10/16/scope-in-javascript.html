<!DOCTYPE html>
<html lang="en">


<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" integrity="sha384-PsH8R72JQ3SOdhVi3uxftmaW6Vc51MKb0q5P2rRUpPvrszuE4W1povHYgTpBfshb"
        crossorigin="anonymous">
    <!--Fontawesome  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <!-- Font   -->
    <link href="https://fonts.googleapis.com/css?family=Exo+2" rel="stylesheet">
    <!-- Local CSS  -->

    <link rel="stylesheet" href=/assets/css/main.css>
    <link rel="stylesheet" href=/assets/css/codehighlight.css>
    <title>Scope in Javascript</title>
</head>

<body id="home" data-spy="scroll" data-target=".navbar">
    <!--nav  -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark ">
    <a class="navbar-brand" href="#"></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="container">
        <a class="navbar-brand text-white" href="https://murithi.github.io">Murithi M'Inoti</a>
        <div class="collapse navbar-collapse justify-content-end blog-navbar" id="navbarNav">
            <a class=" nav-item nav-link active text-white" href="https://murithi.github.io/index.html">Home
                <span class="sr-only">(current)</span>
            </a>
            <a class="nav-item nav-link text-white" href="https://murithi.github.io/about.html">About Me</a>

            <a href="https://twitter.com/Amurithi " class="fa fa-twitter ">

            </a>
            <a href="https://www.linkedin.com/in/eric-murithi/ " class="fa fa-linkedin ">

            </a>
            <a href="https://github.com/Murithi " class="fa fa-github ">

            </a>
            <!-- <a href="#" class="fa fa-rss"></a> -->
        </div>
    </div>
</nav> <div class="container mb-5 mt-5">
  
  <h1>Scope in Javascript</h1>
  <p class="meta">16 Oct 2017</p>

  <div class="post container">
    <p>Scope can be said to be a set of rules that indicate where we should look for a variable. It defines the area where variables are available. A variable will normally belong to a certain context of execution. In this context certain variables- <em>values and expressions</em> are “visible” and or can be refered to. Outside of this, the variable can’t be used.</p>

<h2 id="variable-scope">Variable scope</h2>
<p>Normally variables in Javascript will either be defined in global or local scope. A variable declared outside a function is global. Otherwise, variables are limited to the local scope of the function in which they are defined.</p>

<h3 id="global-scope">Global Scope</h3>

<p>A variable declared as global lives throughout run-time. It is accessible and alterable in any scope as the global scope is a parent to all scopes in the execution.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>            <span class="c1">//carname is  accessible here</span>
            <span class="kd">var</span> <span class="nx">carname</span><span class="o">=</span><span class="s2">"Mercedes Benz"</span><span class="p">;</span>

            <span class="kd">function</span> <span class="nx">car</span><span class="p">()</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// Mercedes Benz</span>
                <span class="c1">//carname is accessible from within here</span>
            <span class="p">}</span>

            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// Mercedes Benz</span>
            <span class="c1">//carname is  accessible here</span>
</code></pre>
</div>
<h3 id="local-scope">Local Scope</h3>

<p>While global scope is useful in programming, it’s not always good practise. Following the “<a href="https://en.wikipedia.org/wiki/Principle_of_least_privilege" target="_blank">Principle of Least Privilege</a>” in software design, we apply scope-hiding techniques. This entails declaring variables nested inside blocks or functions. This creates what we call local scope.</p>

<p>Local scope is available only within the function wherein it’s defined. Variables living here have their scope recreated with every call of the function during runtime. The variables remain inaccessible unless reference is within the local scope of the function.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>            <span class="c1">//carname is not accessible here</span>
            <span class="kd">function</span> <span class="nx">car</span><span class="p">()</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">carname</span> <span class="o">=</span> <span class="s1">'Mercedes Benz'</span><span class="p">;</span>
                <span class="c1">//carname is accessible from within here</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// Mercedes Benz</span>
            <span class="p">}</span>
            <span class="c1">//carname is not accessible here</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// ReferenceError: carname is not defined</span>

</code></pre>
</div>
<p>As you can see the variable <em>carname</em> declared within the function is not reachable from outside the function. Thus a functional has it’s local scope and variables within it cannot be accessed from outside.</p>

<h3 id="function-scope">Function Scope</h3>
<p>Javascript has lexical scoping with functions. Within lexical scopes, a variable name’s scope is restricted to that function, within the function definition. It lives and is bound here, and outside the function it can’t be referenced.
<em>It is important to note that curly braces <strong>{}</strong>  in Javascript do not create a new scope. This is because (prior to the ECMA 6 standard) curly braces do not create a new scope. Only through the creation a new function is a new scope created.</em></p>

<p>Function scope does not exist until a function is called.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>            <span class="c1">//Function scope</span>
            <span class="kd">var</span> <span class="nx">carname</span> <span class="o">=</span> <span class="s1">'Mercedes Benz'</span><span class="p">;</span>
            <span class="kd">function</span> <span class="nx">car</span><span class="p">(</span><span class="nx">carname</span><span class="p">)</span> <span class="p">{</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span>
            <span class="p">}</span>
            <span class="c1">//carname is not accessible here</span>
            <span class="nx">car</span><span class="p">(</span><span class="s1">'BMW'</span><span class="p">);</span> <span class="c1">// BMW</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// Mercedes Benz</span>
            <span class="nx">car</span><span class="p">(</span><span class="s1">'Rolls Royce'</span><span class="p">);</span> <span class="c1">// Rolls Royce</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// Mercedes Benz</span>
            <span class="nx">car</span><span class="p">(</span><span class="s1">'Volvo'</span><span class="p">);</span> <span class="c1">// Volvo</span>

</code></pre>
</div>
<p>After each time the function <em>car</em> is called a new scope is created and prints out the outputs in the variable <em>carname</em>. Thus each time the function is called a new scope has a different output as seen above <em>BMW</em>, <em>Mercedes Benz</em>. The global variable <em>carname</em> retains it’s values all the while.</p>

<h3 id="block-scope">Block scope</h3>
<p>Block scope is just a block of code. Block are executed immediately, as opposed to functions that have to be called. Blocks in Javascript would include if-statements, loops etc. Prior to ECMAScript 6 (ES6/ES2015) Javascript had no block scopes. A block prior to this would have worked as follows.</p>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>            <span class="c1">// Blocks in Javascript don't create scope</span>
            <span class="kd">var</span> <span class="nx">carname</span><span class="o">=</span><span class="s2">"Mercedes Benz"</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">){</span>
                <span class="kd">var</span> <span class="nx">carname</span> <span class="o">=</span> <span class="s2">"Volvo"</span><span class="p">;</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// Volvo</span>
            <span class="p">}</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// Volvo</span>

</code></pre>
</div>
<p>The way to create block scope was through Immediately Invoked Function Expressions (IIFE) pattern.</p>
<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>            <span class="c1">//IIFE Demo</span>
            <span class="kd">var</span> <span class="nx">carname</span> <span class="o">=</span> <span class="s1">'Mercedes Benz'</span><span class="p">;</span>
            <span class="p">(</span><span class="kd">function</span> <span class="nx">car</span><span class="p">(</span><span class="nx">carname</span><span class="p">)</span> <span class="p">{</span>
                <span class="kd">var</span> <span class="nx">carname</span> <span class="o">=</span> <span class="s1">'Volvo'</span><span class="p">;</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span><span class="c1">// Volvo</span>
            <span class="p">})()</span>
            <span class="c1">//carname prints out the global scope value</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">// Mercedes Benz</span>

</code></pre>
</div>
<p>The output of <em>carname</em> within the function is changed within the function expression, without affecting global variable <em>carname</em>.</p>

<p>ECMAScript 6 (ES6/ES2015) introduced light-weight blocks using the <em>let</em> and <em>const</em> keywords. This still refers to the local scope but within the block. Thus access to a variable is confined to the scope of the block in which it’s defined. This scope is also only created during runtime anytime the block is executed in the stack and accessibility is only from within the block.</p>

<div class="language-javascript highlighter-rouge"><pre class="highlight"><code>            <span class="c1">//Block Scope Demo</span>
            <span class="kd">var</span> <span class="nx">carname</span><span class="o">=</span><span class="s2">"Mercedes Benz"</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="kc">true</span><span class="p">)</span>  <span class="p">{</span>
                
                <span class="kd">let</span> <span class="nx">carname</span> <span class="o">=</span> <span class="s2">"Volvo"</span><span class="p">;</span>
                <span class="kd">let</span> <span class="nx">vehiclename</span> <span class="o">=</span> <span class="s2">"Volvo"</span><span class="p">;</span>
                <span class="c1">//vehiclename is only accessible from within here</span>
                <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">//Volvo </span>
                
            <span class="p">}</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">carname</span><span class="p">);</span> <span class="c1">//Mercedes Benz</span>
            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">vehiclename</span><span class="p">);</span> <span class="c1">//Uncaught ReferenceError: vehiclename is not defined</span>
</code></pre>
</div>
<p>The <em>vehiclename</em> variable is only accessible inside the block scope.</p>

<h3 id="thats-it">That’s it!</h3>
<p>We’ve covered the basics regarding scope in this post. There’s always more to learn, but this should be sufficient to help you grasp the basics. Happy coding!</p>

  </div>

</div>
    <div class="container mt-5 pt-5">

        
<div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
    /*
    var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
    (function () { // DON'T EDIT BELOW THIS LINE
        var d = document,
            s = d.createElement('script');
        s.src = 'https://https-murithi-github-io.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript>


    </div>
    <!-- /.container -->

    <!--footer  -->
    <div class="row py-3 bg-primary">


        <div class="col-lg-12 text-center text-white">
            <small>&copy; 2017 by Eric Murithi</small>
        </div>
    </div>
    <!--/footer  -->
    </div>

    <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js " integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n "
        crossorigin="anonymous "></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js " integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb "
        crossorigin="anonymous "></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js " integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn "
        crossorigin="anonymous "></script>

</body>

</html>